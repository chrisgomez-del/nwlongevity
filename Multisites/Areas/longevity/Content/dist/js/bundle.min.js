window.addEventListener("scroll",function(){500<=window.scrollY?document.getElementById("nav").classList.remove("home"):document.getElementById("nav").classList.add("home")}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("loopingVideo");let t=0;function n(){e.src=videoFiles[t],e.currentTime=0,e.play(),t=(t+1)%videoFiles.length}e.addEventListener("ended",()=>{1===videoFiles.length?(e.currentTime=0,e.play()):n()}),n()}),gsap.registerPlugin(ScrollTrigger),gsap.from("#svg3",{x:-100,y:-100,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:"#component2",start:"top 40%",toggleActions:"play none none none"}});let tlSvg4Intro=gsap.timeline({scrollTrigger:{trigger:"#component2",start:"top 40%",toggleActions:"play none none none"}}),tlCards=(tlSvg4Intro.from("#svg4",{x:300,y:300,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible"}).from("#intro-copy1",{y:50,opacity:0,duration:.5,ease:"power2.out",visibility:"visible"}).from("#intro-copy2",{y:50,opacity:0,duration:.7,ease:"power2.out",visibility:"visible"}),gsap.timeline({scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}));function showPlanModal(){document.getElementById("planModalOverlay").style.display="flex"}function hidePlanModal(){document.getElementById("planModalOverlay").style.display="none"}function showMovieModal(){var e=document.getElementById("movieModalOverlay");document.getElementById("modalMoviePlayer");e.style.display="flex"}function hideMovieModal(){var e=document.getElementById("movieModalOverlay");document.getElementById("modalMoviePlayer").pause(),e.style.display="none"}gsap.from("#card1",{x:-300,y:-600,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card2",{x:-200,y:-900,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card3",{x:-100,y:-1300,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card4",{x:100,y:-600,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card5",{x:200,y:-400,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),function(){const r=document.querySelector(".cards-container");if(r){const m=Array.from(r.querySelectorAll(".flip-card"));let o=0,t=0,n;r.addEventListener("touchstart",function(e){t=e.changedTouches[0].screenX}),r.addEventListener("touchend",function(e){n=e.changedTouches[0].screenX,e=t-n,50<Math.abs(e)&&(0<e?d:u)()});let i=0,a=0,l=!1;function s(){return window.innerWidth<=600?1:5}function c(){const n=s();m.forEach((e,t)=>{t>=o&&t<o+n?e.style.display="":e.style.display="none"})}function d(){var e=s();o+e<m.length?o++:o=0,c()}function u(){var e;0<o?o--:(e=s(),o=Math.max(0,m.length-e)),c()}function g(){var e=i-a;50<Math.abs(e)&&(0<e?d:u)()}r.addEventListener("mousedown",function(e){i=e.clientX,l=!0,r.style.cursor="grabbing",e.preventDefault()}),r.addEventListener("mousemove",function(e){l&&e.preventDefault()}),r.addEventListener("mouseup",function(e){l&&(a=e.clientX,l=!1,r.style.cursor="grab",g())}),r.addEventListener("mouseleave",function(e){l&&(a=e.clientX,l=!1,r.style.cursor="grab",g())}),r.style.cursor="grab",document.querySelector(".next-button").addEventListener("click",d),document.querySelector(".prev-button").addEventListener("click",u),window.addEventListener("resize",function(){var e=s();o+e>m.length&&(o=Math.max(0,m.length-e)),c()}),c()}}(),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".plan-your-visit").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),showPlanModal()})}),document.getElementById("closePlanModal").addEventListener("click",hidePlanModal),document.getElementById("planModalOverlay").addEventListener("click",function(e){e.target===this&&hidePlanModal()})}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("svg-chart"),t=document.getElementById("svg-chart-first-arrow"),n=document.getElementById("svg-chart-first-label"),o=document.getElementById("svg-chart-middle-arrow"),i=document.getElementById("svg-chart-middle-label"),a=document.getElementById("svg-chart-last-arrow"),l=document.getElementById("svg-chart-last-label"),r=document.getElementById("svg-chart-last-description"),s=document.getElementById("svg-chart-second-background");gsap.set([t,o,a],{transformOrigin:"50% 50%",scale:0}),e.addEventListener("mouseenter",function(){gsap.timeline().to(t,{scale:1,duration:.8,ease:"back.out(1.7)"}).to(s,{opacity:1,duration:.3,ease:"back.out(1.7)"}).to(n,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(o,{scale:1,duration:.8,ease:"back.out(1.7)"},"+=0.05").to(i,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(a,{scale:1,duration:.8,ease:"back.out(1.7)"},"+=0.05").to(l,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(r,{opacity:1,duration:.8,ease:"back.out(1.7)"})}),e.addEventListener("mouseleave",function(){})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".video").forEach(function(e){e.addEventListener("click",function(e){showMovieModal()})}),document.getElementById("closeMovieModal").addEventListener("click",hideMovieModal),document.getElementById("movieModalOverlay").addEventListener("click",function(e){e.target===this&&hideMovieModal()})}),window.gsap&&window.ScrollTrigger&&gsap.utils.toArray(".section").forEach(function(e){gsap.set(e,{autoAlpha:0,y:60}),gsap.to(e,{autoAlpha:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 70%",toggleActions:"play none none reverse",once:!1}})}),document.addEventListener("DOMContentLoaded",function(){console.log("DOM fully loaded and parsed");const e=document.querySelector(".play-timeline-button"),t=document.querySelector(".timeline-container"),n=(e&&t&&e.addEventListener("click",function(){$(t).animate({scrollLeft:t.scrollWidth},15e3,"swing")}),document.querySelector(".play-team-button")),o=document.querySelector(".team-members");n&&o&&n.addEventListener("click",function(){$(o).animate({scrollLeft:o.scrollWidth},5e3,"swing")})}),document.addEventListener("DOMContentLoaded",function(){$(".timeline-nav-item").click(function(){console.log("clicked",$(this).data("event"));var e=$(this).data("event"),e=$("#"+e);e.length&&(e=$(e)[0].offsetLeft+($(e).find(".inset-text-cta").position()?.left||0)-50,console.log("scrolling to",e),$(".timeline-container").animate({scrollLeft:e},800))}),$(".slides-nav-item").click(function(){var e;window.innerWidth<786?(e=$(this).find(".content-container"),$(".slides-nav-item .content-container").not(e).slideUp(200),e.length&&(e.is(":visible")?e.stop(!0,!0).slideUp(200):e.stop(!0,!0).slideDown(300))):($(".slides-nav-item").removeClass("active"),$(this).addClass("active"),e=$(this).data("slide"),(e=$("."+e)).length&&($(".slide").removeClass("show"),$(e).addClass("show")))})});